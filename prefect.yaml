name: nba-prefect-polars

pull:
  - prefect.deployments.steps.git_clone:
      id: clone-step # needed to be referenced in subsequent steps
      repository: https://github.com/gtaing/nba-prefect-polars.git
      branch: main
  - prefect.deployments.steps.pip_install_requirements:
      directory: "{{ clone-step.directory }}"
      requirements_file: requirements.txt

deployments:
  - name: nba-season-stats-deployment
    entrypoint: src/flow.py:season_stats
    work_pool:
      name: my-managed-pool
    schedules: []
